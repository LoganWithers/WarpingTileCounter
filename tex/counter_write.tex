\subsubsection{\cwrite}

\begin{itemize}

    \item For each $i = 1,2,3$,
                   $j = 1,\ldots,l-1$,
                   $u \in \{0, 1\}^j$, and each
                   $\inc \in \ops$:
    \begin{itemize}
            \item Create
            $\begin{aligned}[t]
                \cwrite(& \left\langle {\tt CounterWrite}, i, u0, \inc \right\rangle,
                          \left\langle {\tt CounterWrite}, i, u,  \inc \right\rangle \;)
            \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_0}.

            \item Create
            $\begin{aligned}[t]
                \cwrite(& \left\langle {\tt CounterWrite}, i,  u1, \inc \right\rangle,
                          \left\langle {\tt CounterWrite}, i,  u,  \inc \right\rangle \;)
            \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_1}.

            \item Create
            $\begin{aligned}[t]
                \cwrite(& \left\langle {\tt CounterWrite}, 1, u0, \inc, {\tt msr} \right\rangle,
                          \left\langle {\tt CounterWrite}, 1, u,  \inc, {\tt msr} \right\rangle \;)
            \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_0}.

            \item Create
            $\begin{aligned}[t]
                \cwrite(& \left\langle {\tt CounterWrite}, 1,  u1, \inc, {\tt msr} \right\rangle,
                          \left\langle {\tt CounterWrite}, 1,  u,  \inc, {\tt msr} \right\rangle \;)
            \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_1}.

            \item Create
            $\begin{aligned}[t]
                \cwrite(& \left\langle {\tt CounterWrite}, i, u0, \inc, {\tt msr}, {\tt msd} \right\rangle,
                          \left\langle {\tt CounterWrite}, i, u,  \inc, {\tt msr}, {\tt msd} \right\rangle \;)
            \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_0}.

            \item Create
            $\begin{aligned}[t]
                \cwrite(& \left\langle {\tt CounterWrite}, i,  u1, \inc, {\tt msr}, {\tt msd} \right\rangle,
                          \left\langle {\tt CounterWrite}, i,  u,  \inc, {\tt msr}, {\tt msd} \right\rangle \;)
            \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_1}.
    \end{itemize}

    % 250 because 3 digits * 2 create statements * 3 ops * 7 tiles per statement
    In this step, for the general case digits 1-3, $18 \sum_{j=1}^{l - 1} 7 \cdot 2^j =$
    $252 \left(2^{l - 1} - 1 \right) =$
    $252 \left(2^{\ceil*{\log m} + 1} - 1 \right) =$
    $252 \left(2^{\ceil*{\log m}} \cdot 2^1 - 1 \right) \leq$
    $252 \left(4 \cdot 2^{\log m} \right) = \bigom$ tiles were created.

    For digit 1 case 1,
    $3 \sum_{j=1}^{l - 1} 7 \cdot 2^j =$
    $42 \left(2^{l - 1} - 1 \right) =$
    $42 \left(2^{\ceil*{\log m} + 1} - 1 \right) =$
    $42 \left(2^{\ceil*{\log m}} \cdot 2^1 - 1 \right)\\ \leq$
    $42 \left(4 \cdot 2^{\log m} \right) = \bigom$ tiles were created.

    For the most significant digit,
    $3 \sum_{j=1}^{l - 1} 7 \cdot 2^j =$
    $42 \left(2^{l - 1} - 1 \right) =$
    $42 \left(2^{\ceil*{\log m} + 1} - 1 \right) =$
    $42 \left(2^{\ceil*{\log m}} \cdot 2^1 - 1 \right) \\\leq$
    $42 \left(4 \cdot 2^{\log m} \right) = \bigom$ tiles were created.

    %
    \item For each $i = 1,2,3$ and each $\inc \in \{{\tt increment}, {\tt copy} \}$:
    \begin{itemize}
        \item Create
        $\begin{aligned}[t]
            \cwrite(& \left\langle {\tt CounterWrite}, i, 0, \inc \right\rangle,
                      \left\langle {\tt DigitTop},     i,    \inc \right\rangle \;)
        \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_0}.

        \item Create
        $\begin{aligned}[t]
            \cwrite(& \left\langle {\tt CounterWrite}, i, 1, \inc \right\rangle,
                      \left\langle {\tt DigitTop},     i,    \inc \right\rangle \;)
        \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_1}.

        \item Create
        $\begin{aligned}[t]
            \cwrite(& \left\langle {\tt CounterWrite}, 1, 0, \inc, {\tt msr} \right\rangle,
                      \left\langle {\tt DigitTop},     1,    \inc, {\tt msr} \right\rangle \;)
        \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_0}.

        \item Create
        $\begin{aligned}[t]
            \cwrite(& \left\langle {\tt CounterWrite}, 1, 1, \inc, {\tt msr} \right\rangle,
                      \left\langle {\tt DigitTop},     1,    \inc, {\tt msr} \right\rangle \;)
        \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_1}.

        \item Create
        $\begin{aligned}[t]
            \cwrite(& \left\langle {\tt CounterWrite}, i, 0, \inc, {\tt msr}, {\tt msd} \right\rangle,
                      \left\langle {\tt DigitTop},     i,    \inc, {\tt msr}, {\tt msd} \right\rangle \;)
        \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_0}.

        \item Create
        $\begin{aligned}[t]
            \cwrite(& \left\langle {\tt CounterWrite}, i, 1, \inc, {\tt msr}, {\tt msd} \right\rangle,
                      \left\langle {\tt DigitTop},     i,    \inc, {\tt msr}, {\tt msd} \right\rangle \;)
        \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_1}.
    \end{itemize}

    In this step, $9 \cdot 6 \cdot 7 = 378 = O(1)$ tiles were created.

    \item For each $i = 1,2,3$:
    \begin{itemize}
        \item Create
        $\begin{aligned}[t]
            \cwrite(& \left\langle {\tt CounterWrite},    i, 0, {\tt halt}, {\tt msr}, {\tt msd} \right\rangle,
                      \left\langle {\tt RoofScaffolding}, i,                {\tt msr}, {\tt msd} \right\rangle \;)
        \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_0}.

        \item Create
        $\begin{aligned}[t]
            \cwrite(& \left\langle {\tt CounterWrite},    i, 1, {\tt halt}, {\tt msr}, {\tt msd} \right\rangle,
                      \left\langle {\tt RoofScaffolding}, i,                {\tt msr}, {\tt msd} \right\rangle \;)
        \end{aligned}$ \\ from the general gadget in Figure~\ref{fig:counter_write_1}.
    \end{itemize}
    In this step, $3 \cdot 14 = 42 = O(1)$ tiles were created.
\end{itemize}

\vspace{.5cm}

\begin{figure}[H]
    \centering
    \subcaptionbox{
        {\tt Counter\_Write\_0}. There are 6 tiles in this gadget.
        \label{fig:counter_write_0}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{counter_write_0}}}%
    ~
    \subcaptionbox{
        {\tt Counter\_Write\_1}. There are 8 tiles in this gadget.
        \label{fig:counter_write_1}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{counter_write_1}}}%
    ~
    \subcaptionbox{
        Digit 1 - general\\ overview.
        \label{fig:counter_write_1_op}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/general/counter_write_1_op}}}%
    ~
    \subcaptionbox{
        Digit 1 - general (seed) overview.
        \label{fig:counter_write_1_seed_op}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/general/counter_write_1_seed_op}}}%
    ~
\end{figure}
\begin{figure}[H]\ContinuedFloat
    \centering
    \subcaptionbox{
        Digit 2 - general\\ overview.
        \label{fig:counter_write_2_op}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/general/counter_write_2_op}}}%
    ~
    \subcaptionbox{
        Digit 2 - general (seed) overview.
        \label{fig:counter_write_2_seed_op}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/general/counter_write_2_seed_op}}}%
    ~
    \subcaptionbox{
        Digit 3 - general\\ overview.
        \label{fig:counter_write_3_op}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/general/counter_write_3_op}}}%
    ~
    \subcaptionbox{
        Digit 3 - general (seed) overview.
        \label{fig:counter_write_3_seed_op}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/general/counter_write_3_seed_op}}}%
    ~
\end{figure}
\begin{figure}[H]\ContinuedFloat
    \centering
    \subcaptionbox{
        Digit 1 - case 1.
        \label{fig:counter_write_1_op_msr_msd}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/case1/counter_write_1_op_msr_msd}}}%
    ~
    \subcaptionbox{
        Digit 1 - case 1 (seed).
        \label{fig:counter_write_1_op_seed_msr_msd}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/case1/counter_write_1_seed_op_msr_msd}}}%
    ~
    \subcaptionbox{
        Digit 1 - case 2.
        \label{fig:counter_write_1_op_msr}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/case2/counter_write_1_op_msr}}}%
    ~
    \subcaptionbox{
        Digit 1 - case 2 (seed).
        \label{fig:counter_write_1_op_seed_msr}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/case2/counter_write_1_seed_op_msr}}}%
    ~
\end{figure}
\begin{figure}[H]\ContinuedFloat
    \centering
    \subcaptionbox{
        Digit 2 - case 2.
        \label{fig:counter_write_2_op_msr_msd}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/case2/counter_write_2_op_msr_msd}}}%
    ~
    \subcaptionbox{
        Digit 2 - case 2 (seed).
        \label{fig:counter_write_2_op_seed_msr_msd}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/case2/counter_write_2_seed_op_msr_msd}}}%
    ~
    \subcaptionbox{
        Digit 3 - case 3.
        \label{fig:counter_write_3_op_msr_msd}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/case3/counter_write_3_op_msr_msd}}}%
    ~
    \subcaptionbox{
        Digit 3 - case 3 (seed).
        \label{fig:counter_write_3_op_seed_msr_msd}
    }{\makebox[0.24\textwidth][c]{\includegraphics[width=0.45in]{overviews/case3/counter_write_3_seed_op_msr_msd}}}%
    ~
    \caption{\label{fig:counter_write} The {\cwrite} gadgets.}
\end{figure}

